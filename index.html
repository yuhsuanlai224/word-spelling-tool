<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>è½å–®å­—ï¼Œæ‹¼å–®å­—å°å·¥å…·</title>
    <style>
        /* CSS æ¨£å¼ï¼šè®“ä»‹é¢çœ‹èµ·ä¾†èˆ’æœä¸€é» */
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding-top: 50px;
            background-color: #f4f4f9;
        }
        .container {
            max-width: 500px;
            margin: auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #333;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        #speak-btn {
            background-color: #007bff;
            color: white;
        }
        #speak-btn:hover {
            background-color: #0056b3;
        }
        #check-btn {
            background-color: #28a745;
            color: white;
        }
        #check-btn:hover {
            background-color: #1e7e34;
        }
        #word-input {
            padding: 10px;
            font-size: 20px;
            margin: 15px 0;
            width: 80%;
            border: 2px solid #ccc;
            border-radius: 5px;
            text-align: center;
        }
        #feedback {
            margin-top: 20px;
            font-size: 20px;
            min-height: 50px; /* ç¢ºä¿æœ‰è¶³å¤ ç©ºé–“é¡¯ç¤ºè¨Šæ¯ */
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ§ è½å–®å­—ï¼Œæ‹¼å–®å­—</h1>

    <button id="speak-btn">é»æˆ‘è½å–®å­—</button>

    <input type="text" id="word-input" placeholder="è«‹åœ¨é€™è£¡è¼¸å…¥æ‹¼å­—" autofocus>

    <button id="check-btn">æª¢æŸ¥æ‹¼å­—</button>

    <div id="feedback">é»æ“Šã€Œè½å–®å­—ã€é–‹å§‹ï¼</div>
    
    <button id="next-btn" style="display:none;">ä¸‹ä¸€å€‹å–®å­—</button>
</div>

<script>
    // å–®å­—åº«ï¼šæ‚¨å¯ä»¥éš¨æ™‚åœ¨é€™è£¡å¢åŠ æˆ–ä¿®æ”¹å–®å­—
    const wordList = [
        "help", "shy", "bunny", "gun", "elephant", 
        "color", "candy", "add", "any", "air"
    ];

    let currentWord = "";
    
    const speakBtn = document.getElementById('speak-btn');
    const checkBtn = document.getElementById('check-btn');
    const nextBtn = document.getElementById('next-btn');
    const wordInput = document.getElementById('word-input');
    const feedbackDiv = document.getElementById('feedback');
    
    // --- æ ¸å¿ƒé‚è¼¯ï¼šé¸å–èˆ‡ç™¼éŸ³ ---

    function getNewWord() {
        // éš¨æ©Ÿé¸å–ä¸€å€‹å–®å­—
        const randomIndex = Math.floor(Math.random() * wordList.length);
        currentWord = wordList[randomIndex];
        
        // é‡è¨­ä»‹é¢
        wordInput.value = '';
        wordInput.disabled = false;
        checkBtn.style.display = 'inline';
        nextBtn.style.display = 'none';
        feedbackDiv.textContent = 'è«‹è½å–®å­—å¾Œè¼¸å…¥æ‹¼å­—ã€‚';
        
        // ç«‹å³æ’­æ”¾å–®å­—
        speakWord(currentWord);
    }
    
    function speakWord(word) {
        // ä½¿ç”¨ç€è¦½å™¨çš„æ–‡å­—è½‰èªéŸ³ (Text-to-Speech, TTS) åŠŸèƒ½
        if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance(word);
            
            // è¨­å®šèªéŸ³ç‚ºè‹±æ–‡ (ç¾å¼æˆ–è‹±å¼ï¼Œå–æ±ºæ–¼ç€è¦½å™¨è¨­å®š)
            // å»ºè­°è¨­å®šèªè¨€ï¼Œç¢ºä¿ç™¼éŸ³æº–ç¢º
            utterance.lang = 'en-US'; 
            
            window.speechSynthesis.speak(utterance);
        } else {
            alert("æŠ±æ­‰ï¼Œæ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´æ–‡å­—è½‰èªéŸ³åŠŸèƒ½ã€‚");
        }
    }

    // --- æ ¸å¿ƒé‚è¼¯ï¼šæª¢æŸ¥ç­”æ¡ˆ ---

    function checkSpelling() {
        const input = wordInput.value.trim().toLowerCase();
        
        if (input === "") {
            feedbackDiv.innerHTML = "ğŸ¤” è«‹å…ˆè¼¸å…¥æ‹¼å­—å–”ï¼";
            return;
        }

        if (input === currentWord) {
            // ç­”æ¡ˆæ­£ç¢º
            feedbackDiv.innerHTML = "ğŸ‰ **å¤ªæ£’äº†ï¼æ‹¼å­—å®Œå…¨æ­£ç¢ºï¼** ğŸ‰";
            wordInput.disabled = true; // ç­”å°å¾Œé–ä½è¼¸å…¥æ¡†
            checkBtn.style.display = 'none';
            nextBtn.textContent = "ä¸‹ä¸€å€‹å–®å­—";
            nextBtn.style.display = 'inline';
            speakWord("Excellent!"); // å”¸å‡ºé¼“å‹µçš„è©±
        } else {
            // ç­”æ¡ˆéŒ¯èª¤
            feedbackDiv.innerHTML = `âŒ **ç­”éŒ¯äº†ã€‚** æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š**${currentWord}**`;
            // å¯é¸ï¼šè®“å­©å­çœ‹è¦‹ç­”æ¡ˆå¾Œï¼Œå†é»æ“Šä¸‹ä¸€å€‹
            checkBtn.style.display = 'none';
            nextBtn.textContent = "å†è©¦ä¸‹ä¸€å€‹";
            nextBtn.style.display = 'inline';
            speakWord("Try again."); // å”¸å‡ºé¼“å‹µçš„è©±
        }
    }
    
    // --- äº‹ä»¶ç›£è½ (Listeners) ---

    // é»æ“Šã€Œè½å–®å­—ã€æŒ‰éˆ•ï¼Œé‡æ–°æ’­æ”¾å–®å­—
    speakBtn.addEventListener('click', () => {
        if (currentWord) {
            speakWord(currentWord);
        } else {
            // ç¬¬ä¸€æ¬¡é»æ“Šæ™‚ï¼Œé–‹å§‹éŠæˆ²
            getNewWord();
        }
    });

    // é»æ“Šã€Œæª¢æŸ¥æ‹¼å­—ã€æŒ‰éˆ•
    checkBtn.addEventListener('click', checkSpelling);
    
    // é»æ“Šã€Œä¸‹ä¸€å€‹å–®å­—ã€æŒ‰éˆ•
    nextBtn.addEventListener('click', getNewWord);
    
    // å…è¨±åœ¨è¼¸å…¥æ¡†æŒ‰ Enter éµç›´æ¥æª¢æŸ¥
    wordInput.addEventListener('keypress', function (e) {
        if (e.key === 'Enter' && checkBtn.style.display !== 'none') {
            checkSpelling();
        }
    });
    
    // åˆå§‹åŒ–ï¼šç¬¬ä¸€æ¬¡è¼‰å…¥æ™‚å…ˆå–å¾—å–®å­—
    getNewWord();
    
</script>

</body>
</html>
